有时候可能需要依赖流中前几个批次中的元素来计算当前批次的结果。例如，计算流中所有元素的和，计算当前元素值与之前元素的差值。这种运算会在遍历整个流的期间不断更新计算状态。在 Spark Streaming 中提供了 updateStateByKey 和 MapWithState 函数来实现。本文主要介绍如何使用 MapWithState 函数实现有状态应用。
