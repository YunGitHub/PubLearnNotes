---
layout: post
author: smartsi
title: Flink 窗口触发器 Trigger
date: 2021-06-30 10:28:17
tags:
  - Flink

categories: Flink
permalink: flink-stream-windows-trigger
---


窗口触发器(Trigger)决定了窗口（由 WindowAssigner 产生）什么时候调用窗口处理函数。每种类型的窗口都对应不同的窗口触发机制，保障每一次接入窗口的元素都能够按照规定的触发逻辑进行统计计算。可以根据指定的时间或数据条件来决定什么时候触发，比如，可以根据到达的元素计数或者具体获取到的元素值等等。例如，当处理时间或 Watermark 超过窗口结束边界的时间戳时，时间窗口(TimeWindow)的默认触发器就会触发。

触发器可以访问时间属性以及计时器，并且可以处理状态。因此，它们与处理函数一样强大。例如，我们可以实现特定的触发逻辑来触发，比如窗口接收到一定数量的元素时就会触发，或者当具有特定值的元素添加到窗口中时，再或者检测到添加到窗口中的元素满足一定模式时触发，例如最近5秒内有两个相同类型的事件。
